---
title: Email
description: "Let's learn how we can configure the email provider."
---

# Email

The API for sending emails depends on the provider used. The configuration can be set through the `email` property in the `auth` configuration of your `nuxt.config` file.

::alert{type="warning"}
Please note that only **HTML** messages are supported at this time.
::

## Hook

This provider allows to send emails via an internal hook named `auth:email`.

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  // ...
  auth: {
    email: {
      from: process.env.SMTP_FROM, // The email address to send from
      provider: {
        name: "hook",
      },
    },
  },
  // ...
});
```

Then you will need to register a handler for `auth:email` hook to send the message.

```ts [server/plugins/email.ts]
export default defineNitroPlugin((nitroApp) => {
  nitroApp.hooks.hook("auth:email", (from, message) => {
    // send message
  });
});
```

## Sendgrid

If you choose to use [Sendgrid](https://sendgrid.com), you will need to provide an API key.

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  // ...
  auth: {
    email: {
      from: process.env.SMTP_FROM, // The email address to send from
      provider: {
        name: "sendgrid",
        apiKey: process.env.SENDGRID_API_KEY,
      },
    },
  },
  // ...
});
```

## Resend

If you choose to use [Resend](https://resend.com/), you will need to provide an API key.

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  // ...
  auth: {
    email: {
      from: process.env.SMTP_FROM, // The email address to send from
      provider: {
        name: "resend",
        apiKey: process.env.RESEND_API_KEY,
      },
    },
  },
  // ...
});
```

## Template Customization

Default templates are provided for:

- Email verification
- Password Reset

To customize them, `email.templates` config option is provided.
Exposed variables are

- **name** - The user's name
- **link** - for redirection
- **validityInMinutes** - equals to accessToken maxAge.

It's recommended to use [maily.to](https://maily.to/) to build well designed templates.

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  // ...
  auth: {
    email: {
      templates: {
        emailVerify: `
          <html lang="en">
            <body>
              <h2>Hello {{name}},</h2>
              <p>To verify your email, please follow this link</p>
              <a href="{{link}}">Verify your email</a>
              <p>Valid for {{validityInMinutes}} minutes</p>
            </body>
          </html>
        `,
        passwordReset: `
          <html lang="en">
            <body>
              <h2>Hello {{name}},</h2>
              <p>To reset your password, please follow this link</p>
              <a href="{{link}}">Reset your password</a>
              <p>Valid for {{validityInMinutes}} minutes</p>
            </body>
          </html>
        `,
      },
    },
  },
  // ...
});
```
